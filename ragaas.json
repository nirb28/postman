{"openapi":"3.1.0","info":{"title":"RAG as a Service","description":"A comprehensive RAG (Retrieval-Augmented Generation) platform with configurable chunking, embedding, and generation strategies","version":"1.0.0"},"paths":{"/api/v1/documentation/chunking-strategies":{"get":{"tags":["RAG Service","Documentation"],"summary":"Chunking Strategies Documentation","description":"Get detailed information about available chunking strategies.\n\nThis endpoint provides comprehensive documentation about the different text chunking\nstrategies available in the system, including their parameters, use cases, and examples.","operationId":"chunking_strategies_documentation_api_v1_documentation_chunking_strategies_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/documentation/embedding-models":{"get":{"tags":["RAG Service","Documentation"],"summary":"Embedding Models Documentation","description":"Get detailed information about available embedding models.\n\nThis endpoint provides comprehensive documentation about the different embedding\nmodels available in the system, including their parameters, use cases, and examples.","operationId":"embedding_models_documentation_api_v1_documentation_embedding_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/documentation/vector-stores":{"get":{"tags":["RAG Service","Documentation"],"summary":"Vector Stores Documentation","description":"Get detailed information about available vector store options.\n\nThis endpoint provides comprehensive documentation about the different vector\nstore options available in the system, including their parameters, use cases, and examples.","operationId":"vector_stores_documentation_api_v1_documentation_vector_stores_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/documentation/reranker-models":{"get":{"tags":["RAG Service","Documentation"],"summary":"Reranker Models Documentation","description":"Get detailed information about available reranking models.\n\nThis endpoint provides comprehensive documentation about the different reranking\nmodels available in the system, including their parameters, use cases, and examples.","operationId":"reranker_models_documentation_api_v1_documentation_reranker_models_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/documentation/mcp-integration":{"get":{"tags":["RAG Service","Documentation"],"summary":"Mcp Integration Documentation","description":"Get detailed information about MCP (Model Control Plane) integration.\n\nThis endpoint provides comprehensive documentation about the MCP integration\nin the RAG service, including configuration options, API endpoints, and usage examples.","operationId":"mcp_integration_documentation_api_v1_documentation_mcp_integration_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/health":{"get":{"tags":["RAG Service"],"summary":"Health Check","description":"Health check endpoint.","operationId":"health_check_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/api/v1/upload":{"post":{"tags":["RAG Service"],"summary":"Upload Document","description":"Upload a document to a collection.","operationId":"upload_document_api_v1_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_document_api_v1_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/query":{"post":{"tags":["RAG Service"],"summary":"Query Documents","description":"Query documents in a configuration.\n\nUses reranking if configured for the configuration.","operationId":"query_documents_api_v1_query_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/configurations":{"get":{"tags":["RAG Service"],"summary":"List Configurations","description":"List all configurations and their information.","operationId":"list_configurations_api_v1_configurations_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigurationsResponse"}}}}}},"post":{"tags":["RAG Service"],"summary":"Add Configuration","description":"Add or update a configuration with custom settings.","operationId":"add_configuration_api_v1_configurations_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigurationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigurationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/configurations/{configuration_name}":{"get":{"tags":["RAG Service"],"summary":"Get Configuration","description":"Get a specific configuration.","operationId":"get_configuration_api_v1_configurations__configuration_name__get","parameters":[{"name":"configuration_name","in":"path","required":true,"schema":{"type":"string","title":"Configuration Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["RAG Service"],"summary":"Delete Configuration","description":"Delete a configuration.","operationId":"delete_configuration_api_v1_configurations__configuration_name__delete","parameters":[{"name":"configuration_name","in":"path","required":true,"schema":{"type":"string","title":"Configuration Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/debug/configurations":{"get":{"tags":["RAG Service"],"summary":"Debug Configurations","description":"Debug endpoint to list all configurations and their details","operationId":"debug_configurations_api_v1_debug_configurations_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/debug/{configuration_name}":{"get":{"tags":["RAG Service"],"summary":"Debug Configuration","description":"Debug endpoint to inspect the vectors and chunks in a configuration.\n\nArgs:\n    configuration_name: Name of the configuration to inspect\n    limit: Maximum number of chunks to return\n    show_vectors: Whether to include embedding vectors in the response\n    show_text: Whether to include the full text of chunks in the response\n    \nReturns:\n    Dictionary containing chunks and their metadata from the configuration","operationId":"debug_configuration_api_v1_debug__configuration_name__get","parameters":[{"name":"configuration_name","in":"path","required":true,"schema":{"type":"string","title":"Configuration Name"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}},{"name":"show_vectors","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Show Vectors"}},{"name":"show_text","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Show Text"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/retrieve":{"post":{"tags":["RAG Service"],"summary":"Retrieve Documents","description":"Retrieve relevant documents from a configuration without generating a response.\n\nThis endpoint allows direct access to the vector retrieval functionality without LLM generation.\nIt's useful for debugging, testing, or when only the context documents are needed.\n\nArgs:\n    request: The retrieval request containing query and options\n\nReturns:\n    Documents retrieved from the vector store, optionally reranked","operationId":"retrieve_documents_api_v1_retrieve_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RetrieveRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RetrieveResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/documents":{"delete":{"tags":["RAG Service"],"summary":"Delete All Documents","description":"Delete all documents and their chunks from a configuration.\n\nArgs:\n    configuration_name: The configuration to delete documents from\n    confirm: Must be set to true to confirm the deletion\n    \nReturns:\n    Results of the deletion operation","operationId":"delete_all_documents_api_v1_documents_delete","parameters":[{"name":"configuration_name","in":"query","required":true,"schema":{"type":"string","title":"Configuration Name"}},{"name":"confirm","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Confirm"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["RAG Service"],"summary":"List Documents","description":"List all unique documents in a configuration.\n\nArgs:\n    configuration_name: The configuration to list documents from\n    \nReturns:\n    List of unique document IDs and their metadata","operationId":"list_documents_api_v1_documents_get","parameters":[{"name":"configuration_name","in":"query","required":true,"schema":{"type":"string","title":"Configuration Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/documents/{document_id}/chunks":{"get":{"tags":["RAG Service"],"summary":"Get Document Chunks","description":"Retrieve all chunks of a specific document.\n\nArgs:\n    document_id: The ID of the document to retrieve chunks for\n    configuration_name: The configuration where the document is stored\n    \nReturns:\n    Dictionary containing all chunks of the document","operationId":"get_document_chunks_api_v1_documents__document_id__chunks_get","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}},{"name":"configuration_name","in":"query","required":true,"schema":{"type":"string","title":"Configuration Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["RAG Service"],"summary":"Delete Document Chunks","description":"Delete all chunks of a specific document.\n\nArgs:\n    document_id: The ID of the document to delete chunks for\n    configuration_name: The configuration where the document is stored\n    \nReturns:\n    Dictionary with deletion results","operationId":"delete_document_chunks_api_v1_documents__document_id__chunks_delete","parameters":[{"name":"document_id","in":"path","required":true,"schema":{"type":"string","title":"Document Id"}},{"name":"configuration_name","in":"query","required":true,"schema":{"type":"string","title":"Configuration Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/configurations/reload":{"post":{"tags":["RAG Service"],"summary":"Reload Configurations","description":"Reload configurations from file.\n\nThis endpoint forces the server to reload all configurations from the storage file,\ndiscarding any in-memory changes that haven't been saved.","operationId":"reload_configurations_api_v1_configurations_reload_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/":{"get":{"summary":"Root","description":"Root endpoint with API information.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_upload_document_api_v1_upload_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"configuration_name":{"type":"string","title":"Configuration Name","default":"default"},"metadata":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Metadata"},"process_immediately":{"type":"boolean","title":"Process Immediately","default":true}},"type":"object","required":["file"],"title":"Body_upload_document_api_v1_upload_post"},"ConfigurationInfo":{"properties":{"name":{"type":"string","title":"Name"},"document_count":{"type":"integer","title":"Document Count"},"created_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Created At"},"last_updated":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Updated"},"config":{"additionalProperties":true,"type":"object","title":"Config"}},"type":"object","required":["name","document_count","config"],"title":"ConfigurationInfo"},"ConfigurationRequest":{"properties":{"config":{"additionalProperties":true,"type":"object","title":"Config"},"configuration_name":{"type":"string","title":"Configuration Name","default":"default"}},"type":"object","required":["config"],"title":"ConfigurationRequest"},"ConfigurationResponse":{"properties":{"configuration_name":{"type":"string","title":"Configuration Name"},"config":{"additionalProperties":true,"type":"object","title":"Config"},"message":{"type":"string","title":"Message"}},"type":"object","required":["configuration_name","config","message"],"title":"ConfigurationResponse"},"ConfigurationsResponse":{"properties":{"configurations":{"items":{"$ref":"#/components/schemas/ConfigurationInfo"},"type":"array","title":"Configurations"},"total_count":{"type":"integer","title":"Total Count"}},"type":"object","required":["configurations","total_count"],"title":"ConfigurationsResponse"},"ContextItem":{"properties":{"content":{"type":"string","title":"Content"},"role":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"},"timestamp":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Timestamp"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"}},"type":"object","required":["content"],"title":"ContextItem","description":"A single context item for context injection."},"DocumentStatus":{"type":"string","enum":["uploaded","processing","indexed","failed"],"title":"DocumentStatus"},"DocumentUploadResponse":{"properties":{"document_id":{"type":"string","title":"Document Id"},"filename":{"type":"string","title":"Filename"},"status":{"$ref":"#/components/schemas/DocumentStatus"},"message":{"type":"string","title":"Message"},"configuration_name":{"type":"string","title":"Configuration Name"}},"type":"object","required":["document_id","filename","status","message","configuration_name"],"title":"DocumentUploadResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status"},"version":{"type":"string","title":"Version"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp"},"services":{"additionalProperties":{"type":"string"},"type":"object","title":"Services"}},"type":"object","required":["status","version","services"],"title":"HealthResponse"},"QueryRequest":{"properties":{"query":{"type":"string","maxLength":1000,"minLength":1,"title":"Query"},"configuration_name":{"type":"string","title":"Configuration Name","default":"default"},"k":{"anyOf":[{"type":"integer","maximum":20.0,"minimum":1.0},{"type":"null"}],"title":"K","default":5},"similarity_threshold":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Similarity Threshold","default":0.7},"include_metadata":{"type":"boolean","title":"Include Metadata","default":true},"context_items":{"anyOf":[{"items":{"$ref":"#/components/schemas/ContextItem"},"type":"array"},{"type":"null"}],"title":"Context Items","description":"Additional context for context injection (e.g. chat history)"},"config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Config","description":"Optional partial config overrides for generation endpoint, embedding endpoint, or vector store"}},"type":"object","required":["query"],"title":"QueryRequest"},"QueryResponse":{"properties":{"query":{"type":"string","title":"Query"},"answer":{"type":"string","title":"Answer"},"sources":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Sources"},"processing_time":{"type":"number","title":"Processing Time"},"configuration_name":{"type":"string","title":"Configuration Name"}},"type":"object","required":["query","answer","sources","processing_time","configuration_name"],"title":"QueryResponse"},"RetrieveRequest":{"properties":{"query":{"type":"string","maxLength":1000,"minLength":1,"title":"Query"},"configuration_name":{"type":"string","title":"Configuration Name","default":"default"},"k":{"type":"integer","maximum":50.0,"minimum":1.0,"title":"K","default":5},"similarity_threshold":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Similarity Threshold","default":0.0},"include_metadata":{"type":"boolean","title":"Include Metadata","default":true},"use_reranking":{"type":"boolean","title":"Use Reranking","default":false},"include_vectors":{"type":"boolean","title":"Include Vectors","default":false},"config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Config"}},"type":"object","required":["query"],"title":"RetrieveRequest"},"RetrieveResponse":{"properties":{"query":{"type":"string","title":"Query"},"documents":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Documents"},"processing_time":{"type":"number","title":"Processing Time"},"configuration_name":{"type":"string","title":"Configuration Name"},"total_found":{"type":"integer","title":"Total Found"}},"type":"object","required":["query","documents","processing_time","configuration_name","total_found"],"title":"RetrieveResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}